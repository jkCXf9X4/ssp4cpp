# Repository Guidelines

## Project Structure & Module Organization
Core C++ source lives under `lib/src` with public headers in `lib/include/ssp4cpp` and internal headers in `lib/include_private`. Generated schema bindings reside in `lib/include/ssp4cpp/schema` and `lib/src/schema`. Test fixtures and Catch2 cases are in `tests`, with sample SSP archives in `tests/resources`. Python helpers for regenerating schema code sit in `schema_generator/src`, and template metadata is collected under `resources`. Keep third-party submodules self-contained inside `3rdParty` and avoid modifying them directly.

## Build, Test, and Development Commands
Configure the toolchain with vcpkg-aware presets: `cmake --preset=vcpkg`. Build all targets with `cmake --build build` or specify the build type explicitly, e.g. `cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug`. Execute the full test suite using `cmake --build build --target ssp4cpp_tests && ./build/tests/ssp4cpp_tests`. When iterating on the XML generator, activate the virtual environment (`. ./venv/bin/activate`) before running Python modules.

## Coding Style & Naming Conventions
The library is compiled as C++23; follow the existing four-space indentation, brace-on-same-line style, and prefer `#pragma once` guards. File names use lowercase with underscores (e.g., `logger_tests.cpp`, `SSP1_SystemStructureDescription_Ext.hpp` for generated files). Favor `std::` types and `span`-friendly APIs, and keep logging routed through `utils::log::Logger`. Python utilities in `schema_generator` should remain PEP 8 compliant, with snake_case modules and functions.

## Testing Guidelines
Catch2 powers unit tests—add new `TEST_CASE` blocks near related functionality and keep names descriptive of behavior (“Logger appends multiple entries”). Place sample assets alongside tests in `tests/resources`, mirroring existing naming. Run tests before each PR and include new regression cases whenever touching `lib/utils` or schema serialization. Clean up temporary files created during tests to keep CI deterministic.

## Commit & Pull Request Guidelines
Craft concise, capitalized commit subjects (`Added import test`, `Adjusted logger`) and bundle related changes only. Reference issues using `Fixes #123` in the body when applicable. Pull requests should outline the motivation, summarize architectural or schema updates, list new commands or tests, and mention any regenerated bindings. Include before/after snippets or screenshots when the change affects generated artifacts or logging output.

## Schema Generation Workflow
Schema bindings are regenerated by running `python schema_generator/src/main.py`. Always review the diff for large, mechanical changes and rerun the CMake build afterward to confirm headers compile. Document schema or resource updates in the PR description so integrators know when to refresh downstream caches.
